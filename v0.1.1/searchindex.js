Search.setIndex({"docnames": ["changelog", "configuration", "configuration/filter_syntax", "configuration/jobs", "configuration/logging", "configuration/misc", "configuration/monitoring", "configuration/preface", "configuration/prune", "configuration/transports", "implementation", "index", "installation", "pr", "tutorial", "usage"], "filenames": ["changelog.rst", "configuration.rst", "configuration/filter_syntax.rst", "configuration/jobs.rst", "configuration/logging.rst", "configuration/misc.rst", "configuration/monitoring.rst", "configuration/preface.rst", "configuration/prune.rst", "configuration/transports.rst", "implementation.rst", "index.rst", "installation.rst", "pr.rst", "tutorial.rst", "usage.rst"], "titles": ["Changelog", "Configuration", "Filter Syntax", "Job Types &amp; Replication", "Logging", "Miscellaneous", "Monitoring", "Preface", "Pruning Policies", "Transports", "Implementation Overview", "zrepl - ZFS replication", "Installation", "Talks &amp; Presentations", "Tutorial", "Usage"], "terms": {"config": [0, 3, 4, 6, 7, 15], "break": [0, 11], "bug": [0, 4, 5], "doc": [0, 11, 12], "featur": [0, 9, 10], "migrat": [0, 15], "The": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], "summar": 0, "bugfix": 0, "ar": [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], "deem": 0, "relev": 0, "user": [0, 3, 4, 9, 11, 14], "develop": [0, 5, 8, 13], "should": [0, 3, 4, 5, 7, 9, 12, 14, 15], "consult": 0, "git": [0, 9, 12], "commit": 0, "log": [0, 1, 2, 5, 11, 14, 15], "github": [0, 3, 5, 8, 9, 10, 11, 12], "issu": [0, 3, 5, 8, 10, 11, 15], "tracker": [0, 11], "we": [0, 3, 5, 9, 11, 12, 14], "us": [0, 1, 2, 3, 4, 7, 9, 10, 12, 14, 15], "follow": [0, 2, 3, 4, 5, 7, 8, 9, 10, 12, 14], "annot": [0, 5], "classifi": [0, 4], "As": [0, 3, 8, 9], "make": [0, 4, 5, 8, 9, 11, 12, 14, 15], "sure": [0, 4, 5, 8, 11, 14, 15], "warn": [0, 4], "your": [0, 5, 7, 9, 12, 15], "about": [0, 4, 9, 10, 11, 14], "breakag": 0, "somehow": 0, "interoper": 0, "persist": 0, "state": [0, 4, 8, 9, 15], "represent": 0, "even": 0, "updat": [0, 3, 12], "both": [0, 3, 4, 8, 9, 10, 14], "side": [0, 1, 9, 10], "might": [0, 8, 14], "suffici": 0, "e": [0, 3, 4, 6, 8, 9, 12], "g": [0, 3, 4, 6, 9, 12], "need": [0, 3, 4, 8, 9, 10, 12], "new": [0, 9, 11, 14], "format": [0, 1, 3, 11, 14], "must": [0, 2, 3, 4, 5, 8, 9], "run": [0, 3, 4, 5, 7, 8, 9, 10, 12, 14, 15], "introduc": 0, "function": [0, 15], "fix": [0, 3], "regress": 0, "incompat": 0, "expect": [0, 4, 9], "document": [0, 3, 4, 7, 9, 11, 12, 15], "162": 0, "d6304f4": 0, "i": [0, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15], "o": [0, 9, 12, 14], "timeout": 0, "error": [0, 3, 4, 8, 9, 11, 14, 15], "variabl": [0, 9], "receiv": [0, 3, 4, 8, 11], "rate": 0, "A": [0, 2, 3, 8, 12, 14, 15], "signific": 0, "reduct": 0, "sudden": 0, "stall": 0, "recv": [0, 10], "pool": [0, 3], "ha": [0, 3, 4, 10], "other": [0, 3, 5, 8, 9, 10, 12, 15], "do": [0, 5, 8, 9, 10, 11, 14], "would": [0, 3, 8], "caus": [0, 3], "writev": 0, "after": [0, 3, 5, 8, 9, 14], "approxim": 0, "ten": 0, "second": [0, 5], "thi": [0, 3, 4, 5, 8, 9, 10, 11, 14], "mileston": 0, "zrepl": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13], "requir": [0, 3, 4, 7, 8, 12, 14, 15], "refactor": 0, "rewrit": 0, "substanti": 0, "part": [0, 9, 10], "applic": 0, "It": [0, 3, 8, 9, 12], "configur": [0, 2, 3, 5, 6, 8, 9, 10, 11, 12, 15], "transport": [0, 1, 3, 5, 10, 11, 14, 15], "thu": [0, 3, 4, 9, 10, 15], "manual": [0, 3, 8, 15], "intervent": 0, "replic": [0, 1, 8, 9, 10, 14, 15], "setup": [0, 3, 4, 8, 9, 10, 11, 12], "prune": [0, 1, 5, 11, 14, 15], "system": [0, 8, 9, 11, 12, 15], "you": [0, 2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15], "explicitli": 0, "defin": [0, 2, 3, 5, 8, 9, 10, 14], "keep": [0, 3, 8, 9, 14], "rule": [0, 2, 3, 8, 11], "ani": [0, 2, 3, 4, 8, 11, 14, 15], "snapshot": [0, 1, 10, 11, 14, 15], "want": [0, 3, 8, 9, 12], "least": 0, "one": [0, 3, 4, 8, 9, 11], "match": [0, 2, 3, 5, 8, 9], "differ": [0, 3, 4, 8, 10], "from": [0, 1, 5, 8, 9, 10, 14, 15], "where": [0, 3, 8, 11, 14], "onli": [0, 1, 4, 5, 8, 9, 14, 15], "affect": [0, 8], "prefix": [0, 3, 8, 14], "kept": [0, 3, 8], "ignor": 0, "cover": [0, 3, 10], "regex": [0, 1, 5, 14], "learn": [0, 14], "more": [0, 1, 2, 8, 9, 14], "notifi": 0, "see": [0, 3, 4, 6, 8, 9, 15], "attribut": [0, 6], "below": [0, 3, 4, 5, 9], "If": [0, 2, 3, 4, 7, 8, 9, 12, 14], "daemon": [0, 3, 4, 5, 9, 10, 11, 14], "crash": [0, 11], "stack": 0, "trace": [0, 4], "produc": [0, 12], "go": [0, 4, 8, 9, 10, 11, 12, 14], "runtim": [0, 1, 9, 12, 15], "possibli": [0, 10], "diagnost": 0, "output": [0, 4, 5, 14, 15], "written": [0, 10], "stderr": 0, "behavior": [0, 11], "independ": [0, 3, 8], "stdout": [0, 1, 9, 11], "outlet": [0, 1, 11], "type": [0, 1, 2, 4, 5, 6, 8, 9, 10, 11, 14], "pleas": [0, 3, 12], "captur": 0, "somewher": 0, "To": [0, 9, 14], "conserv": 0, "preciou": 0, "multipl": [0, 1, 9, 10, 11], "servic": [0, 4, 9, 14, 15], "restart": [0, 14], "directli": [0, 9], "discard": 0, "obviou": [0, 10, 11], "how": [0, 1, 9, 14], "set": [0, 3, 4, 7, 8, 9, 11, 14], "gotraceback": 0, "environ": [0, 9], "sigabrt": 0, "panic": 0, "can": [0, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15], "coredump": 0, "panick": 0, "process": [0, 4, 9, 12, 14, 15], "extend": [0, 8], "build": [0, 1, 3, 12], "": [0, 3, 4, 5, 8, 9, 11, 12, 14], "collect": 0, "delv": 0, "debugg": 0, "work": [0, 1, 4, 9, 10, 11, 15], "togeth": [0, 10], "program": [0, 3, 10], "tutori": [0, 7, 11, 12], "symbol": 0, "resolut": [0, 8], "etc": [0, 4, 5, 7, 9, 10, 14, 15], "binari": [0, 4, 9, 12, 15], "special": [0, 4], "focu": 0, "strip": 0, "consid": [0, 3, 4, 8, 9], "configcheck": [0, 7, 14, 15], "subcommand": [0, 2, 3, 5, 7, 9, 11, 15], "startup": 0, "script": [0, 3, 7, 10, 14, 15], "abort": [0, 15], "fail": [0, 3, 8, 9], "due": 0, "an": [0, 3, 4, 5, 6, 9, 10, 12, 15], "invalid": [0, 3], "placehold": [0, 3], "properti": [0, 3, 15], "now": [0, 9], "off": 0, "valu": [0, 2, 4, 8, 9], "instead": [0, 12], "hash": 0, "dataset": [0, 2, 3, 9, 12], "path": [0, 1, 2, 3, 5, 9, 12], "permit": 0, "renam": 0, "sink": [0, 1, 9, 14], "filesystem": [0, 2, 3, 8, 9, 10, 11, 14], "without": [0, 3, 4, 15], "all": [0, 2, 3, 4, 5, 8, 9, 11, 12, 14, 15], "x": [0, 11], "rc": [0, 9], "valid": [0, 1, 3, 4, 9], "55": 0, "push": [0, 1, 2, 8, 9, 11, 14], "job": [0, 1, 2, 4, 6, 9, 11, 12, 14, 15], "tcp": [0, 1, 6, 11, 14], "tl": [0, 1, 4, 11], "client": [0, 3, 4, 9, 11, 14], "authent": [0, 4, 5, 9, 10, 14], "111": 0, "rpc": [0, 3, 5, 9, 11], "protocol": [0, 5, 11], "grpc": [0, 10], "control": [0, 3, 5, 6, 9], "custom": [0, 10], "bulk": 0, "data": [0, 3, 5, 9, 10, 14], "transfer": 0, "automat": [0, 3, 9, 11], "retri": [0, 3, 11], "network": [0, 3, 4, 9, 11], "temporari": [0, 3, 11], "limit": [0, 14], "dure": [0, 3, 8], "address": [0, 4, 9, 14], "common": [0, 9, 14], "problem": [0, 4, 9], "isp": 0, "forc": [0, 9], "reconnect": [0, 4], "night": 0, "becom": 0, "wai": [0, 3, 8, 12], "resum": [0, 11], "send": [0, 3, 4, 8, 10, 11], "support": [0, 10, 15], "handl": [0, 3, 9, 15], "per": [0, 3, 8], "f": [0, 12, 14], "attempt": [0, 3, 4, 11], "onc": [0, 3, 4, 6], "proper": 0, "ssh": [0, 1, 5, 10, 11, 14, 15], "11": [0, 11], "later": 0, "map": [0, 3, 9], "longer": [0, 8], "pull": [0, 1, 8, 9, 11], "specifi": [0, 2, 3, 4, 6, 7, 8, 9], "singl": [0, 3, 9], "root_f": [0, 3, 8, 9, 14], "store": [0, 8], "client_ident": [0, 3, 5, 9], "overview": [0, 1, 11], "terminologi": [0, 1], "detail": [0, 3, 4, 9, 14, 15], "trigger": [0, 3, 14, 15], "69": 0, "includ": [0, 4], "creat": [0, 3, 5, 7, 8, 9, 12, 14, 15], "period": [0, 3, 8, 11, 14, 15], "signal": [0, 3, 14, 15], "wakeup": [0, 3, 14, 15], "reset": [0, 15], "current": [0, 3, 9, 15], "activ": [0, 1, 8, 9, 11, 12, 14, 15], "decid": [0, 10], "what": [0, 2, 4, 9, 10, 11], "sender": [0, 3, 8, 11], "execut": [0, 3, 8, 9, 15], "destroi": [0, 8], "oper": [0, 3], "remot": [0, 3, 4, 8, 9, 10], "polici": [0, 1, 11], "decis": 0, "shall": [0, 3, 8], "made": 0, "base": [0, 8, 9, 11, 14], "68": 0, "not_repl": [0, 1, 3, 14], "prevent": 0, "diverg": [0, 11], "bookmark": [0, 3, 8, 11], "necessari": [0, 8], "zrepl_replication_cursor": [0, 3], "move": 0, "forward": [0, 9], "most": [0, 3, 4, 6, 8, 10], "recent": [0, 3, 8, 15], "successfulli": [0, 3], "old": 0, "prior": [0, 9], "version": [0, 9, 15], "name": [0, 3, 5, 8, 9, 14], "like": [0, 3, 8, 9, 10, 14], "correspond": [0, 3, 8, 9, 14], "delet": 0, "keep_bookmark": 0, "paramet": [0, 2, 3, 4, 5], "grid": [0, 1, 14], "been": [0, 3, 8], "remov": 0, "statu": [0, 3, 11, 14, 15], "live": [0, 3, 11, 13], "progress": [0, 3, 8, 10, 11], "realli": 0, "cool": 0, "local": [0, 1, 7, 12, 14], "manag": [0, 9, 11, 12], "67": 0, "expos": [0, 3, 6, 9, 10], "prometheu": [0, 1, 11], "metric": [0, 6], "via": [0, 6, 7, 8, 9, 11, 12], "http": [0, 6, 12], "compat": [0, 8, 10], "grafana": [0, 1], "dashboard": [0, 6], "ship": [0, 6], "dist": [0, 6, 15], "kei": [0, 2, 4, 9, 10, 14], "53": 0, "cli": [0, 5, 11], "have": [0, 3, 5, 8, 9, 10, 12, 14, 15], "direct": [0, 9], "goroutin": 0, "leak": 0, "connect": [0, 1, 3, 4, 5, 8, 14], "81": 0, "77": 0, "accept": [0, 9, 14], "correctli": 0, "sourc": [0, 1, 2, 9, 10], "100": 0, "zol": 0, "8": 0, "115": 0, "syslog": [0, 1, 11], "facil": [0, 4], "systemd": [0, 9, 14], "unit": [0, 3, 9, 10], "file": [0, 1, 4, 5, 6, 9], "3": [0, 2, 9, 11, 12, 13], "our": [0, 9, 11, 14], "show": [0, 3, 14, 15], "sinc": [0, 8, 9], "last": [0, 8], "time": [0, 3, 4, 6, 8, 9, 10, 11], "built": [0, 8], "For": [0, 2, 3, 8, 9], "select": [0, 14], "host": [0, 9, 14], "io": [0, 5], "prefac": [1, 11], "directori": [1, 9, 12, 15], "passiv": [1, 8, 9], "take": [1, 2, 7, 8, 10], "snaphot": 1, "than": [1, 9, 10], "2": [1, 2, 9, 11], "machin": [1, 9, 14], "No": [1, 10], "overlap": 1, "n": [1, 8], "1": [1, 2, 6, 8, 11, 12, 13], "snap": 1, "serv": [1, 3, 5, 8, 12, 14], "self": [1, 14, 15], "sign": [1, 4, 12, 14], "certif": [1, 4, 11], "stdinserv": [1, 5, 7, 15], "filter": [1, 3, 8, 11], "syntax": [1, 8, 11], "exampl": [1, 3, 4, 7, 8, 9, 12, 14, 15], "full": [1, 3, 4, 9], "access": [1, 3, 5, 9, 10, 14], "fine": [1, 9, 14], "grain": 1, "last_n": [1, 14], "workaround": [1, 3], "default": [1, 5, 7, 8, 9, 11, 15], "block": [1, 2], "level": [1, 15], "monitor": [1, 3, 11, 14, 15], "miscellan": [1, 11], "unix": [1, 7, 9], "socket": [1, 7, 9, 15], "durat": [1, 9], "interv": [1, 3, 4, 8, 14, 15], "super": 1, "verbos": 1, "debug": [1, 4], "field": [2, 3, 4, 5, 8, 9], "zf": [2, 3, 9, 10, 12, 14, 15], "hierarchi": 2, "return": [2, 9], "true": [2, 3, 4, 5, 8, 14], "pass": [2, 9], "fals": [2, 3, 4, 8, 14], "yaml": 2, "dictionari": 2, "pattern": 2, "boolean": [2, 8], "determin": [2, 8, 9], "which": [2, 3, 4, 6, 8, 9, 10], "result": [2, 5, 12], "chosen": 2, "given": [2, 8, 10], "specif": [2, 3, 9, 14], "win": 2, "over": [2, 3, 12], "less": [2, 9], "ones": 2, "non": [2, 11], "wildcard": 2, "subtre": [2, 3, 9], "end": [2, 9], "question": 2, "doe": [2, 3, 4, 9, 15], "mean": [2, 8, 9, 10, 15], "left": [2, 8, 9], "its": [2, 7, 8, 9, 14], "children": [2, 14], "try": 2, "out": [2, 8, 9, 10, 11, 12, 14], "test": [2, 3, 10], "allow": [2, 3, 5, 9, 10], "demonstr": 2, "present": [2, 3, 9, 11], "abov": [2, 3, 4, 8, 9], "tank": 2, "foo": [2, 9], "bar": [2, 9], "appli": [2, 11], "loo": 2, "zroot": [2, 11, 14], "none": [2, 3], "var": [2, 5, 7, 9, 11, 14], "track": 3, "everi": [3, 8, 14], "uniqu": 3, "depend": [3, 12], "page": 3, "alwai": [3, 4], "happen": [3, 4, 8, 11], "between": [3, 4, 9, 11], "pair": [3, 14], "logic": [3, 10], "wherea": [3, 8], "respond": [3, 14], "request": [3, 9, 10, 11, 14], "check": [3, 9, 10, 11, 12, 15], "permiss": 3, "commun": [3, 5, 10], "start": [3, 7, 9, 15], "procedur": [3, 8, 12], "call": [3, 9], "tabl": 3, "combin": [3, 4, 9, 12], "achiev": [3, 9], "mode": [3, 8, 9, 11], "case": [3, 4, 8, 9, 14], "laptop": 3, "backup": [3, 8, 9, 11], "na": 3, "behind": 3, "nat": 3, "offsit": 3, "central": [3, 9], "server": [3, 4, 8, 9, 10, 11], "mani": 3, "node": [3, 9, 14], "freebsd": [3, 12, 13, 14], "boot": 3, "becaus": [3, 4, 5, 8, 9, 10, 15], "finish": 3, "ticker": 3, "instanti": 3, "watch": [3, 11], "wait": 3, "listen": [3, 6, 9, 14], "each": [3, 4, 5, 8, 9, 10], "provid": [3, 4, 5, 7, 9, 10, 12, 15], "ident": [3, 9], "respect": 3, "sub": [3, 9, 14], "tree": [3, 9, 14], "whitelist": 3, "implement": [3, 5, 9, 11, 14], "compon": [3, 9], "One": 3, "major": 3, "design": [3, 10], "goal": 3, "modul": 3, "avoid": [3, 11], "duplic": 3, "nontrivi": 3, "code": [3, 9, 10, 11], "abstract": 3, "endpoint": [3, 6, 11, 15], "typic": [3, 8], "object": [3, 9], "instanc": 3, "regardless": [3, 9], "style": [3, 4], "step": [3, 11], "place": 3, "plan": 3, "compar": [3, 9, 10], "comput": 3, "diff": 3, "list": [3, 6, 8, 9, 10, 12, 14], "possibl": [3, 8, 12], "increment": [3, 14], "otherwis": [3, 12], "give": [3, 11], "up": [3, 8, 9, 10, 11, 14], "cannot": [3, 8, 15], "loss": 3, "failur": [3, 4], "perman": [3, 8], "wa": [3, 8], "perform": [3, 11, 15], "order": [3, 7], "among": 3, "pend": 3, "pick": 3, "whose": [3, 8, 10], "next": [3, 11, 14, 15], "oldest": [3, 8], "mirror": 3, "success": 3, "cursor": [3, 8], "idea": [3, 10], "simultan": 3, "t1": 3, "befor": [3, 4, 9, 14], "first": [3, 4, 8, 9, 11, 12], "t2": 3, "identifi": [3, 4, 9], "yet": 3, "whether": 3, "ensur": 3, "continu": [3, 8, 12], "note": [3, 4, 9, 12, 15], "prohibit": 3, "same": [3, 8, 9], "regular": [3, 8], "hierachi": 3, "intermediari": 3, "h": [3, 5], "j": 3, "r": [3, 7], "neither": 3, "nor": 3, "exist": [3, 8, 10], "parent": 3, "some": [3, 5, 6, 8, 9, 15], "point": [3, 7, 8, 11], "flag": [3, 7, 15], "command": [3, 9, 10, 12], "whe": 3, "never": 3, "mount": 3, "u": [3, 10, 12, 14], "mountpoint": 3, "being": 3, "24": [3, 8, 14], "compos": 3, "utc": 3, "date": [3, 8, 10], "20060102_150405_000": 3, "conflict": 3, "when": [3, 4, 8, 9, 11, 15], "switch": 3, "zone": 3, "summer": 3, "winter": 3, "tmp": [3, 5, 8, 11], "zrepl_": [3, 8, 14], "10m": [3, 8, 14], "There": [3, 5, 8, 9, 11], "also": [3, 6, 9, 10, 12], "infrastructur": [3, 9, 10], "lock": 3, "databas": [3, 8], "better": 3, "integr": [3, 11], "74": 3, "through": [3, 9, 12], "separ": [3, 9, 14], "across": 3, "critic": 3, "race": [3, 8], "condit": [3, 8], "disjoint": 3, "domain": 3, "explan": 3, "except": [3, 14], "improv": [3, 9, 15], "multi": 3, "open": [3, 5, 9, 11], "two": [3, 9, 14], "thei": [3, 5, 7], "potenti": 3, "parallel": 3, "b": [3, 11], "asssum": 3, "still": [3, 10, 11], "subtl": 3, "occur": [3, 4], "namespac": 3, "safe": [3, 11], "possib": 3, "just": [3, 5, 8, 9, 10, 12], "assert": 3, "comment": [3, 4, 5], "sampl": [3, 7], "yml": [3, 7, 14], "source_path": 3, "disabl": 3, "storag": [3, 14], "structur": [4, 10, 11, 15], "easili": 4, "messag": [4, 14, 15], "global": [4, 5, 6, 7], "section": [4, 6, 9, 11], "outlet_typ": 4, "minimum_level": 4, "write": [4, 5, 6, 9, 10], "print": 4, "By": 4, "human": [4, 11], "semant": [4, 8], "short": [4, 14], "descript": [4, 15], "erro": 4, "immedi": 4, "action": 4, "symptom": [4, 8], "misconfigur": 4, "soon": [4, 15], "info": 4, "explain": 4, "too": 4, "much": [4, 8, 9, 15], "debg": 4, "inform": [4, 9, 15], "dump": [4, 5], "incorrectli": 4, "report": [4, 5, 11, 15], "subsystem": 4, "bracket": 4, "actual": [4, 8, 10, 15], "remain": [4, 8, 10], "logfmt": [4, 11], "packag": [4, 7, 9, 10, 11, 15], "json": [4, 11, 15], "line": [4, 9], "marshal": 4, "encod": 4, "particularli": 4, "aggreg": 4, "destin": 4, "entri": [4, 9], "minimum": 4, "color": 4, "accord": 4, "tty": 4, "interact": [4, 9], "usag": [4, 11, 12], "assum": [4, 14], "local0": 4, "retry_interv": 4, "0": [4, 6, 11, 13], "On": [4, 8, 9], "normal": 4, "chang": [4, 11], "net": [4, 6, 9], "com": [4, 9, 10, 12, 14], "10202": 4, "establish": [4, 9, 10], "unencrypt": [4, 9], "secur": 4, "latter": 4, "ca": [4, 9, 14], "pem": 4, "author": [4, 9, 12], "cert": [4, 9, 14], "toward": 4, "privat": [4, 5, 9], "drop": 4, "underli": [4, 9], "fast": 4, "enough": 4, "buffer": 4, "kernel": [4, 9], "becfor": 4, "crypto": 4, "x509": [4, 9, 14], "leav": [4, 9, 12], "In": [4, 5, 8, 9], "defect": 4, "rebuilt": 4, "static": [4, 9], "link": [4, 9, 12], "variou": [5, 7, 10], "further": [5, 8, 9], "therefor": 5, "fact": 5, "bind": 5, "world": 5, "main": [5, 7], "sockpath": 5, "sockdir": 5, "definit": [5, 9], "durationstringregex": 5, "regexp": [5, 8], "mustcompil": 5, "d": [5, 14], "m": [5, 12], "w": 5, "minut": [5, 11, 14], "hour": [5, 8], "dai": [5, 9, 14], "week": 5, "7": [5, 9, 11], "probabl": [5, 12], "land": 5, "here": [5, 8, 14], "told": 5, "so": 5, "read": [5, 9, 10, 11, 12, 14], "option": [5, 8, 9, 12, 14, 15], "equal": [5, 15], "itself": 5, "conn": [5, 9], "readwriteclos": 5, "read_dump": 5, "connlog_read": 5, "invoc": 5, "write_dump": 5, "connlog_writ": 5, "layer": [5, 9], "almost": 5, "certainli": 5, "contain": [5, 6, 8, 9], "share": 5, "string": [6, 9], "9091": 6, "127": 6, "appear": 6, "mai": [6, 8, 9, 10, 12], "import": [6, 15], "consum": 6, "advic": 6, "At": 6, "stabil": [6, 11], "guarante": [6, 11], "export": 6, "search": 7, "locat": [7, 12], "usr": [7, 11, 12, 14], "good": [7, 11], "maintain": [7, 10, 11, 15], "init": [7, 9, 15], "care": 7, "them": [7, 8, 9, 10, 14], "altern": [7, 10, 12, 15], "trick": 7, "mkdir": [7, 12, 14], "p": [7, 12], "chmod": 7, "0700": 7, "inevit": 8, "disk": [8, 14, 15], "space": [8, 14], "tempor": 8, "maximum": 8, "retent": 8, "back": [8, 14], "busi": 8, "high": 8, "10": [8, 9, 11, 14], "min": 8, "24h": 8, "administr": [8, 9], "disast": 8, "afford": 8, "turnov": 8, "volum": 8, "avail": [8, 9, 12, 15], "compli": 8, "evalu": 8, "complet": [8, 9, 14], "keep_send": [8, 14], "manual_": 8, "1x1h": [8, 14], "24x1h": [8, 14], "14x1d": 8, "keep_receiv": [8, 14], "35x1d": 8, "6x30d": [8, 14], "forev": 8, "add": 8, "sens": [8, 9], "adjac": 8, "thought": 8, "siev": 8, "edg": 8, "leftmost": 8, "creation": [8, 14], "youngest": 8, "right": 8, "describ": [8, 14], "past": 8, "carri": 8, "number": [8, 10], "either": [8, 9, 10, 12], "posit": 8, "integ": 8, "express": 8, "sort": 8, "align": 8, "bucket": 8, "split": [8, 14], "until": [8, 9, 12], "count": [8, 14], "reach": 8, "_": 8, "were": 8, "negat": 8, "expressionin": 8, "perl": 8, "invert": 8, "target": 8, "afterward": [8, 12], "coordin": 8, "downtim": 8, "fill": 8, "zpool": 8, "conceiv": 8, "situat": [8, 14], "taken": 8, "102": 8, "charg": 8, "destruct": 8, "role": 8, "reduc": 8, "howev": [8, 9, 12], "queu": 8, "spuriou": 8, "let": [8, 10, 14], "feel": [8, 12], "free": [8, 12], "desir": 8, "bidirect": [9, 10], "stream": [9, 10], "upper": 9, "plain": [9, 11], "encrypt": [9, 10, 11], "wire": [9, 14], "ipv4": 9, "ipv6": 9, "conjunct": 9, "vpn": 9, "tunnel": 9, "ip": 9, "effect": 9, "solut": [9, 10, 11, 14], "wireguard": 9, "linux": [9, 14], "focuss": 9, "openvpn": 9, "cross": [9, 11], "platform": [9, 11], "tun": 9, "nix": 9, "ipsec": 9, "properli": 9, "standard": 9, "spipe": 9, "think": 9, "pipe": 9, "sshuttl": 9, "port": 9, "8888": [9, 14], "192": 9, "168": 9, "122": 9, "123": [9, 11], "mysql01": 9, "mx01": 9, "23": 9, "42": 9, "dial_timeout": 9, "cn": [9, 14], "recommend": 9, "dedic": [9, 14], "easyrsa": 9, "simpl": 9, "instruct": [9, 14], "librari": 9, "distribut": [9, 14], "recompil": 9, "vulner": 9, "disclos": 9, "resolv": 9, "rel": 9, "absolut": 9, "unsur": 9, "find": 9, "intermedi": 9, "chain": 9, "individu": 9, "certifi": 9, "preced": 9, "tool": 9, "pool2": 9, "backup_laptop": 9, "crt": [9, 14], "prod": [9, 11], "fullchain": 9, "client_cn": [9, 14], "laptop1": 9, "homeserv": 9, "server1": 9, "backupserv": 9, "server_cn": [9, 14], "overrid": 9, "hostnam": 9, "easi": 9, "band": 9, "mechan": [9, 10], "suppos": 9, "openssl": [9, 14], "substitut": 9, "filenam": 9, "input": 9, "prompt": 9, "req": [9, 14], "sha256": [9, 14], "newkei": [9, 14], "rsa": [9, 14], "4096": [9, 14], "365": [9, 14], "keyout": [9, 14], "gener": [9, 11], "bit": 9, "ask": 9, "enter": 9, "incorpor": 9, "distinguish": 9, "dn": 9, "quit": 9, "few": [9, 10, 14], "blank": [9, 10], "countri": 9, "letter": 9, "xx": 9, "provinc": 9, "eg": 9, "citi": 9, "organ": 9, "compani": 9, "ltd": 9, "organiz": 9, "email": 9, "copi": 9, "scp": [9, 14], "look": [9, 10, 14], "authorized_kei": 9, "effici": [9, 10], "fairli": 9, "conveni": [9, 14], "internet": 9, "traffic": 9, "concept": 9, "inspir": 9, "shell": [9, 10], "borg": 9, "problam": [9, 10], "netssh": 9, "inferior": 9, "detect": 9, "encount": [9, 11], "help": [9, 11, 15], "client1": 9, "client2": 9, "futur": 9, "extens": 9, "stdin": 9, "descriptor": 9, "cmsg": 9, "turn": 9, "particular": 9, "pubkei": 9, "openssh": 9, "restrict": 9, "client_ssh_kei": 9, "older": 9, "x11": 9, "pty": 9, "agent": 9, "public": 9, "keypair": 9, "identity_fil": 9, "adjust": [9, 12], "permitrootlogin": 9, "sshd_config": 9, "higher": 9, "refer": [9, 12], "5": [9, 11], "recap": 9, "blindli": 9, "trust": 9, "admin": 9, "root": [9, 10, 11, 12, 14], "22": [9, 11], "argument": 9, "compress": [9, 10, 11], "max": 9, "initi": 9, "handshak": 9, "fork": 9, "replac": 9, "found": 9, "those": [9, 12], "append": 9, "wrap": 9, "discuss": 9, "known_host": 9, "clear": 9, "ssh_auth_sock": 9, "suggest": 9, "sole": 9, "purpos": 9, "listener_nam": 9, "analog": 9, "localsink": 9, "local_backup": 9, "incomplet": [10, 12], "outdat": 10, "talk": [10, 11], "confer": 10, "materi": 10, "aspect": 10, "convinc": 10, "superior": 10, "hack": 10, "real": 10, "languag": 10, "safeti": 10, "reason": 10, "opinion": 10, "softwar": 10, "engin": 10, "algorithm": 10, "notic": 10, "faster": 10, "while": 10, "tempt": 10, "drawback": 10, "unidirect": 10, "advantag": 10, "advanc": [10, 11], "addit": 10, "figur": 10, "ugli": 10, "poorli": 10, "pain": 10, "approach": 10, "channel": 10, "sever": 10, "benefit": 10, "peer": 10, "decoupl": 10, "painlessli": 10, "offer": 10, "protol": 10, "larg": 10, "amount": 10, "size": 10, "unknown": 10, "streamrpc": 10, "come": [10, 14], "rich": 10, "administ": 10, "understand": 10, "stop": 11, "prod_to_backup": [11, 14], "fan": 11, "246": 11, "mib": 11, "264": 11, "624": 11, "kib": 11, "done": 11, "4": 11, "129": 11, "29": 11, "9": [11, 12], "44": 11, "home": [11, 14], "135": 11, "audit": 11, "mail": 11, "impress": [11, 12], "auth": 11, "raw": [11, 15], "flexibl": 11, "ag": 11, "fade": [11, 14], "grandfath": 11, "scheme": 11, "sophist": 11, "comprehens": 11, "testabl": 11, "well": 11, "under": 11, "best": 11, "changelog": [11, 15], "happi": 11, "explor": 11, "codebas": 11, "These": 11, "subdirectori": 11, "confus": 11, "broken": 11, "project": 11, "thing": [11, 14], "suitabl": 11, "repositori": [11, 12], "analysi": 11, "instal": [11, 15], "summari": 11, "privileg": 11, "transpar": 11, "previou": 11, "releas": [11, 12, 13], "unprivileg": 12, "deleg": 12, "jail": 12, "get": [12, 14], "around": 12, "experi": 12, "yourself": 12, "tag": 12, "vendor": 12, "addition": 12, "submit": 12, "pr": 12, "distro": 12, "pkg": [12, 14], "www": 12, "freshport": 12, "org": 12, "sysutil": 12, "newer": 12, "python": 12, "pip3": 12, "txt": 12, "sphinx": 12, "golang": 12, "docker": 12, "offici": 12, "clone": 12, "cd": 12, "sudo": 12, "t": [12, 14, 15], "zrepl_build": 12, "dockerfil": 12, "rm": 12, "v": 12, "pwd": 12, "src": 12, "id": 12, "vendordep": 12, "gopath": 12, "python3": 12, "venv3": 12, "bin": 12, "lazi": 12, "sh": 12, "devsetup": 12, "venv": 12, "godep": 12, "artifact": 12, "apropri": 12, "chapter": 12, "remind": 12, "quick": 12, "introduct": 12, "openzf": 13, "summit": 13, "2018": 13, "pre": 13, "25min": 13, "record": 13, "slide": 13, "event": 13, "eurobsdcon2017": 13, "devsummit": 13, "demo": 13, "55min": 13, "scenario": 14, "product": 14, "db": 14, "child": 14, "paranoid": 14, "belong": 14, "themselv": 14, "fulfil": 14, "veri": [14, 15], "save": 14, "histori": 14, "hourli": 14, "30": 14, "daili": 14, "6": 14, "monthli": 14, "model": 14, "enabl": 14, "tlsclientauth": 14, "protect": 14, "quickli": 14, "skip": 14, "again": 14, "30x1d": 14, "catch": 14, "indic": 14, "everyth": 14, "systemctl": 14, "re": 14, "tmux": 14, "handi": 14, "gnu": 14, "window": 14, "tail": 14, "grep": 14, "layout": 14, "tile": 14, "attach": 14, "equival": 14, "journald": 14, "journalctl": 14, "congratul": 14, "pars": 15, "abl": 15, "foreground": 15, "simpli": 15, "won": 15, "exit": 15, "emit": 15, "task": 15, "sigint": 15, "sigterm": 15, "grace": 15, "shutdown": 15, "worst": 15, "reschedul": 15, "shut": 15, "down": 15, "defint": 15, "templat": 15, "welcom": 15, "145": 15}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"changelog": 0, "0": 0, "1": [0, 3], "note": 0, "packag": [0, 12], "maintain": 0, "chang": [0, 14], "previou": 0, "releas": 0, "configur": [1, 4, 7, 14], "filter": 2, "syntax": 2, "exampl": 2, "full": 2, "access": 2, "fine": 2, "grain": 2, "job": [3, 5, 8], "type": 3, "replic": [3, 11], "overview": [3, 10, 15], "terminologi": 3, "how": 3, "activ": 3, "side": [3, 8], "work": [3, 14], "passiv": 3, "take": 3, "snaphot": 3, "multipl": 3, "more": 3, "than": 3, "2": 3, "machin": 3, "No": 3, "overlap": 3, "n": 3, "push": 3, "sink": 3, "pull": 3, "from": [3, 12], "sourc": [3, 8, 12], "local": [3, 9], "snap": [3, 8], "snapshot": [3, 8], "prune": [3, 8], "onli": 3, "log": [4, 10], "default": 4, "build": 4, "block": 4, "level": 4, "format": 4, "outlet": 4, "stdout": 4, "syslog": 4, "tcp": [4, 9], "miscellan": 5, "runtim": [5, 7], "directori": [5, 7], "unix": 5, "socket": 5, "durat": 5, "interv": 5, "super": 5, "verbos": 5, "debug": 5, "monitor": 6, "prometheu": 6, "grafana": 6, "prefac": 7, "file": [7, 15], "path": 7, "valid": 7, "polici": 8, "not_repl": 8, "grid": 8, "last_n": 8, "regex": 8, "workaround": 8, "us": 8, "transport": 9, "content": [9, 11], "serv": 9, "connect": 9, "tl": [9, 14], "self": 9, "sign": 9, "certif": [9, 14], "ssh": 9, "stdinserv": 9, "implement": 10, "testabl": 10, "perform": 10, "rpc": 10, "protocol": 10, "transpar": 10, "zrepl": [11, 14, 15], "zf": 11, "get": 11, "start": 11, "main": 11, "featur": 11, "contribut": 11, "develop": 11, "workflow": 11, "tabl": 11, "instal": [12, 14], "user": 12, "privileg": 12, "compil": 12, "what": 12, "next": 12, "talk": 13, "present": 13, "tutori": 14, "analysi": 14, "gener": 14, "server": 14, "prod": 14, "backup": 14, "appli": 14, "watch": 14, "summari": 14, "usag": 15, "cli": 15, "daemon": 15, "restart": 15, "systemd": 15, "unit": 15}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 60}, "alltitles": {"Changelog": [[0, "changelog"]], "0.1.1": [[0, "id2"]], "0.1": [[0, "id3"]], "Notes to Package Maintainers": [[0, "notes-to-package-maintainers"]], "Changes": [[0, "changes"]], "Previous Releases": [[0, "previous-releases"]], "Configuration": [[1, "configuration"]], "Filter Syntax": [[2, "filter-syntax"]], "Examples": [[2, "examples"]], "Full Access": [[2, "full-access"]], "Fine-grained": [[2, "fine-grained"]], "Job Types & Replication": [[3, "job-types-replication"]], "Overview & Terminology": [[3, "overview-terminology"]], "How the Active Side Works": [[3, "how-the-active-side-works"]], "How the Passive Side Works": [[3, "how-the-passive-side-works"]], "How Replication Works": [[3, "how-replication-works"]], "Taking Snaphots": [[3, "taking-snaphots"]], "Multiple Jobs & More than 2 Machines": [[3, "multiple-jobs-more-than-2-machines"]], "No Overlapping": [[3, "no-overlapping"]], "N push jobs to 1 sink": [[3, "n-push-jobs-to-1-sink"]], "N pull jobs from 1 source": [[3, "n-pull-jobs-from-1-source"]], "Job Type push": [[3, "job-type-push"]], "Job Type sink": [[3, "job-type-sink"]], "Job Type pull": [[3, "job-type-pull"]], "Job Type source": [[3, "job-type-source"]], "Local replication": [[3, "local-replication"]], "Job Type snap (snapshot & prune only)": [[3, "job-type-snap-snapshot-prune-only"]], "Logging": [[4, "logging"]], "Default Configuration": [[4, "default-configuration"]], "Building Blocks": [[4, "building-blocks"]], "Levels": [[4, "levels"]], "Formats": [[4, "formats"]], "Outlets": [[4, "outlets"]], "stdout Outlet": [[4, "stdout-outlet"]], "syslog Outlet": [[4, "syslog-outlet"]], "tcp Outlet": [[4, "tcp-outlet"]], "Miscellaneous": [[5, "miscellaneous"]], "Runtime Directories & UNIX Sockets": [[5, "runtime-directories-unix-sockets"]], "Durations & Intervals": [[5, "durations-intervals"]], "Super-Verbose Job Debugging": [[5, "super-verbose-job-debugging"]], "Monitoring": [[6, "monitoring"]], "Prometheus & Grafana": [[6, "prometheus-grafana"]], "Preface": [[7, "preface"]], "Configuration File Path": [[7, "configuration-file-path"]], "Runtime Directories": [[7, "runtime-directories"]], "Validating": [[7, "validating"]], "Pruning Policies": [[8, "pruning-policies"]], "Policy not_replicated": [[8, "policy-not-replicated"]], "Policy grid": [[8, "policy-grid"]], "Policy last_n": [[8, "policy-last-n"]], "Policy regex": [[8, "policy-regex"]], "Source-side snapshot pruning": [[8, "source-side-snapshot-pruning"]], "Workaround using snap job": [[8, "workaround-using-snap-job"]], "Transports": [[9, "transports"]], "Contents": [[9, "contents"]], "tcp Transport": [[9, "tcp-transport"]], "Serve": [[9, "serve"], [9, "id1"], [9, "transport-ssh-stdinserver-serve"]], "Connect": [[9, "connect"], [9, "id2"], [9, "transport-ssh-stdinserver-connect"]], "tls Transport": [[9, "tls-transport"]], "Self-Signed Certificates": [[9, "self-signed-certificates"]], "ssh+stdinserver Transport": [[9, "ssh-stdinserver-transport"]], "local Transport": [[9, "local-transport"]], "Implementation Overview": [[10, "implementation-overview"]], "Testability & Performance": [[10, "testability-performance"]], "RPC protocol": [[10, "rpc-protocol"]], "Protocol Implementation": [[10, "protocol-implementation"]], "Logging & Transparency": [[10, "logging-transparency"]], "zrepl - ZFS replication": [[11, "zrepl-zfs-replication"]], "Getting started": [[11, "getting-started"]], "Main Features": [[11, "main-features"]], "Contributing": [[11, "contributing"]], "Development Workflow": [[11, null]], "Table of Contents": [[11, "table-of-contents"]], "Contents:": [[11, null]], "Installation": [[12, "installation"]], "User Privileges": [[12, "user-privileges"]], "Packages": [[12, "packages"]], "Compile From Source": [[12, "compile-from-source"]], "What next?": [[12, "what-next"]], "Talks & Presentations": [[13, "talks-presentations"]], "Tutorial": [[14, "tutorial"]], "Analysis": [[14, "analysis"]], "Install zrepl": [[14, "install-zrepl"]], "Generate TLS Certificates": [[14, "generate-tls-certificates"]], "Configure server prod": [[14, "configure-server-prod"]], "Configure server backups": [[14, "configure-server-backups"]], "Apply Configuration Changes": [[14, "apply-configuration-changes"]], "Watch it Work": [[14, "watch-it-work"]], "Summary": [[14, "summary"]], "Usage": [[15, "usage"]], "CLI Overview": [[15, "cli-overview"]], "zrepl daemon": [[15, "zrepl-daemon"]], "Restarting": [[15, "restarting"]], "Systemd Unit File": [[15, "systemd-unit-file"]]}, "indexentries": {}})